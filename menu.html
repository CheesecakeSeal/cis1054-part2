<!DOCTYPE html>
<html lang="eng">
    <head>
        <meta charset="UTF-8"/>
        <title>Menu</title>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>

    </head>

    <body>
        <h1>Our Menu</h1>
        <h2>Food</h2>
        <ul>
            <ul id="food-list"></ul>
        </ul>

        <h2> Drinks </h2>
        <ul>
            <ul id="drinks-list"></ul>
        </ul>

        <nav>
            <a href="index.html">Home</a> |
            <a href="favourites.html">Favourites</a>
        </nav>

        
        <script>
            function loadCSV(file, targetId) {
            fetch(file)
                .then(response => response.text())
                .then(csv => {
                Papa.parse(csv, {
                    header: true,
                    skipEmptyLines: true,
                    complete: function (results) {
                    const target = document.getElementById(targetId);
                    results.data.forEach(item => {
                        const li = document.createElement("li");
                        li.innerHTML = `<a href="dish.html?id=${item.id}">${item.name}</a>`;
                        target.appendChild(li);
                        console.log(item);
                    });
                    }
                });
                });
            }

            // Load food.csv into #food-list and drinks.csv into #drinks-list
            loadCSV("food_menu.csv", "food-list");
            loadCSV("drinks_menu.csv", "drinks-list");
        </script>
    </body>
</html>