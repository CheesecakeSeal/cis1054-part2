<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>My Favourites</title>
</head>
<body>
    <h1>Your Favourites</h1>
    <ul id="fav-list"></ul>

    <form onsubmit="sendEmail(); return false;">
        <input type="email" id="email" placeholder="Enter your email" required />
        <button type="submit">Send List</button>
    </form>

    <script>
        function renderFavourites() {
            const list = document.getElementById("fav-list");
            const favs = JSON.parse(localStorage.getItem("favourites") || "[]");
            list.innerHTML = "";
            favs.forEach((dish, index) => {
                const li = document.createElement("li");
                li.innerHTML = `<strong>${dish.name}</strong>: ${dish.desc}
                <button onclick="removeFavourite(${index})">Remove</button>`;
                list.appendChild(li);
            });
        }

    function removeFavourite(index) {
        const favs = JSON.parse(localStorage.getItem("favourites") || "[]");
        favs.splice(index, 1);
        localStorage.setItem("favourites", JSON.stringify(favs));
        renderFavourites();
    }

    function sendEmail() {
        const favs = JSON.parse(localStorage.getItem("favourites") || "[]");
        const email = document.getElementById("email").value;
        const body = favs.map(f => `${f.name}: ${f.desc}`).join("\n");

        window.location.href = `mailto:${email}?subject=My Favourite Dishes&body=${encodeURIComponent(body)}`;
    }

    renderFavourites();
    </script>

    <nav>
        <a href="index.html">Home</a> |
        <a href="menu.html">Menu</a>
    </nav>
</body>
</html>
